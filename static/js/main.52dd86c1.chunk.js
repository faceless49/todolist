(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{113:function(t,e,r){t.exports={isDone:"Task_isDone__KWXmu"}},114:function(t,e,r){t.exports={App:"App_App__28txn",error:"App_error__k9UEP","error-message":"App_error-message__1Qm0Y","is-done":"App_is-done__3n4nj"}},137:function(t,e,r){},177:function(t,e,r){"use strict";r.r(e);var a={};r.r(a),r.d(a,"selectIsLoggedIn",(function(){return it}));var n={};r.r(n),r.d(n,"selectStatus",(function(){return Rt})),r.d(n,"selectIsInitialized",(function(){return Vt}));var s,i=r(0),o=r.n(i),c=r(34),d=r.n(c),u=(r(137),r(33)),l=r(70),p=r(106),f=r(18),b=r(17),j=r(14),h=r.n(j),x=r(20),O=r(233),m=r(230),v=r(242),k=r(245),g=r(243),y=r(221),I=r(227),C=r(235),A=r(116),T=r(28),w=r.n(T).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"db8d2f12-200b-4467-ba1f-cd791df3f39c"}}),S=function(){return w.get("todo-lists")},E=function(t){return w.post("todo-lists",{title:t})},L=function(t){return w.delete("todo-lists/".concat(t))},_=function(t,e){return w.put("todo-lists/".concat(t),{title:e})},z=function(t){return w.get("todo-lists/".concat(t,"/tasks"))},D=function(t,e){return w.post("todo-lists/".concat(t,"/tasks"),{title:e})},M=function(t,e){return w.delete("/todo-lists/".concat(t,"/tasks/").concat(e))},P=function(t,e,r){return w.put("/todo-lists/".concat(t,"/tasks/").concat(e),r)},N=function(t){return w.post("/auth/login",t)},F=function(){return w.get("/auth/me")},R=function(){return w.delete("auth/login")},V=Object(f.b)("application/setAppStatus"),W={setAppError:Object(f.b)("application/setAppError"),setAppStatus:V},K=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r&&e.dispatch(W.setAppError({error:t.messages.length?t.messages[0]:"Some error occurred"})),e.dispatch(W.setAppStatus({status:"failed"})),e.rejectWithValue({errors:t.messages,fieldsErrors:t.fieldsErrors})},U=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r&&e.dispatch(W.setAppError({error:t.message?t.message:"Some error occurred"})),e.dispatch(W.setAppStatus({status:"failed"})),e.rejectWithValue({errors:[t.message],fieldsErrors:void 0})};!function(t){t[t.success=0]="success",t[t.error=1]="error",t[t.captcha=10]="captcha"}(s||(s={}));var H,Z=W.setAppStatus,q=Object(f.c)("todolist/fetchTodolists",function(){var t=Object(x.a)(h.a.mark((function t(e,r){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(Z({status:"loading"})),t.prev=1,t.next=4,S();case 4:return a=t.sent,r.dispatch(Z({status:"succeeded"})),t.abrupt("return",{todolists:a.data});case 9:if(t.prev=9,t.t0=t.catch(1),!(t.t0 instanceof T.AxiosError)){t.next=13;break}return t.abrupt("return",U(t.t0,r));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()),B=Object(f.c)("todolist/removeTodolist",function(){var t=Object(x.a)(h.a.mark((function t(e,r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(Z({status:"loading"})),r.dispatch(G({todolistId:e.todolistId,entityStatus:"loading"})),t.prev=2,t.next=5,L(e.todolistId);case 5:return t.sent,r.dispatch(Z({status:"succeeded"})),t.abrupt("return",{todolistId:e.todolistId});case 10:if(t.prev=10,t.t0=t.catch(2),!(t.t0 instanceof T.AxiosError)){t.next=14;break}return t.abrupt("return",U(t.t0,r));case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()),J=Object(f.c)("todolist/addTodolist",function(){var t=Object(x.a)(h.a.mark((function t(e,r){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(Z({status:"loading"})),t.prev=1,t.next=4,E(e);case 4:if((a=t.sent).data.resultCode!==s.success){t.next=10;break}return r.dispatch(Z({status:"succeeded"})),t.abrupt("return",{todolist:a.data.data.item});case 10:return t.abrupt("return",K(a.data,r,!1));case 11:t.next=17;break;case 13:if(t.prev=13,t.t0=t.catch(1),!(t.t0 instanceof T.AxiosError)){t.next=17;break}return t.abrupt("return",U(t.t0,r,!1));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),Y=Object(f.c)("todolist/changeTodolistTitle",function(){var t=Object(x.a)(h.a.mark((function t(e,r){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(Z({status:"loading"})),t.prev=1,t.next=4,_(e.todolistId,e.title);case 4:if((a=t.sent).data.resultCode!==s.success){t.next=10;break}return r.dispatch(Z({status:"succeeded"})),t.abrupt("return",{todolistId:e.todolistId,title:e.title});case 10:return t.abrupt("return",K(a.data,r,!1));case 11:t.next=17;break;case 13:if(t.prev=13,t.t0=t.catch(1),!(t.t0 instanceof T.AxiosError)){t.next=17;break}return t.abrupt("return",U(t.t0,r,!1));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),Q={fetchTodolists:q,addTodolist:J,removeTodolist:B,changeTodolistTitle:Y},X=Object(f.d)({name:"todolist",initialState:[],reducers:{changeTodolistFilter:function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.todolistId}));t[r].filter=e.payload.key},changeTodolistEntityStatus:function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.todolistId}));t[r].entityStatus=e.payload.entityStatus},clearTodosData:function(){return[]}},extraReducers:function(t){t.addCase(q.fulfilled,(function(t,e){return e.payload.todolists.map((function(t){return Object(b.a)(Object(b.a)({},t),{},{filter:"All",entityStatus:"idle"})}))})).addCase(B.fulfilled,(function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.todolistId}));r>-1&&t.splice(r,1)})).addCase(J.fulfilled,(function(t,e){t.unshift(Object(b.a)(Object(b.a)({},e.payload.todolist),{},{filter:"All",entityStatus:"idle"}))})).addCase(Y.fulfilled,(function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.todolistId}));t[r].title=e.payload.title}))}}),$=X.actions,G=($.changeTodolistFilter,$.changeTodolistEntityStatus),tt=$.clearTodosData;!function(t){t[t.success=0]="success",t[t.error=1]="error",t[t.captcha=10]="captcha"}(H||(H={}));var et=Object(f.c)("auth/login",function(){var t=Object(x.a)(h.a.mark((function t(e,r){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(W.setAppStatus({status:"loading"})),t.prev=1,t.next=4,N(e);case 4:if((a=t.sent).data.resultCode!==H.success){t.next=10;break}return r.dispatch(W.setAppStatus({status:"succeeded"})),t.abrupt("return");case 10:return t.abrupt("return",K(a.data,r));case 11:t.next=17;break;case 13:if(t.prev=13,t.t0=t.catch(1),!(t.t0 instanceof T.AxiosError)){t.next=17;break}return t.abrupt("return",U(t.t0,r));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),rt=Object(f.c)("auth/logout",function(){var t=Object(x.a)(h.a.mark((function t(e,r){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(W.setAppStatus({status:"loading"})),t.prev=1,t.next=4,R();case 4:if((a=t.sent).data.resultCode!==H.success){t.next=11;break}return r.dispatch(W.setAppStatus({status:"succeeded"})),r.dispatch(tt()),t.abrupt("return");case 11:return t.abrupt("return",K(a.data,r));case 12:t.next=18;break;case 14:if(t.prev=14,t.t0=t.catch(1),!(t.t0 instanceof T.AxiosError)){t.next=18;break}return t.abrupt("return",U(t.t0,r));case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,r){return t.apply(this,arguments)}}()),at={login:et,logout:rt},nt=Object(f.d)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedInAC:function(t,e){t.isLoggedIn=e.payload.isLoggedIn}},extraReducers:function(t){t.addCase(et.fulfilled,(function(t){t.isLoggedIn=!0})).addCase(rt.fulfilled,(function(t){t.isLoggedIn=!1}))}}),st=r(15),it=function(t){return t.auth.isLoggedIn},ot=function(){return Object(u.b)()};function ct(t){var e=ot();return Object(i.useMemo)((function(){return Object(l.a)(t,e)}),[])}var dt,ut=u.c,lt=r(2),pt=function(){var t=ot(),e=Object(st.g)(),r=Object(u.c)(it),a=Object(A.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Required",e},onSubmit:function(){var e=Object(x.a)(h.a.mark((function e(r,a){var n,s,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(ft.login(r));case 2:n=e.sent,et.rejected.match(n)&&(null===(s=n.payload)||void 0===s||null===(i=s.fieldsErrors)||void 0===i?void 0:i.length)&&(o=n.payload.fieldsErrors[0],a.setFieldError(o.field,o.error));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()});return r&&e("/"),Object(lt.jsx)(O.a,{container:!0,justifyContent:"center",children:Object(lt.jsx)(O.a,{item:!0,justifyContent:"center",children:Object(lt.jsx)("form",{onSubmit:a.handleSubmit,children:Object(lt.jsxs)(v.a,{children:[Object(lt.jsxs)(y.a,{children:[Object(lt.jsxs)("p",{children:["To log in get registered",Object(lt.jsx)("a",{href:"https://social-network.samuraijs.com/",target:"_blank",children:"here"})]}),Object(lt.jsx)("p",{children:"or use common test account credentials:"}),Object(lt.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(lt.jsx)("p",{children:"Password: free"})]}),Object(lt.jsxs)(g.a,{children:[Object(lt.jsx)(I.a,Object(b.a)({label:"Email",margin:"normal"},a.getFieldProps("email"))),a.touched.email&&a.errors.email&&Object(lt.jsx)("div",{style:{color:"red"},children:a.errors.email}),Object(lt.jsx)(I.a,Object(b.a)({type:"password",label:"Password",margin:"normal"},a.getFieldProps("password"))),a.touched.password&&a.errors.password?Object(lt.jsx)("div",{style:{color:"red"},children:a.errors.password}):null,Object(lt.jsx)(k.a,{label:"Remember me",control:Object(lt.jsx)(m.a,{}),name:"rememberMe",onChange:a.handleChange,value:"rememberMe",checked:a.values.rememberMe}),Object(lt.jsx)(C.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})]})]})})})})},ft=Object(b.a)(Object(b.a)({},at),nt.actions),bt=nt.reducer;!function(t){t[t.success=0]="success",t[t.error=1]="error",t[t.captcha=10]="captcha"}(dt||(dt={}));var jt,ht,xt=Object(f.c)("task/fetchTasksTC",function(){var t=Object(x.a)(h.a.mark((function t(e,r){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(W.setAppStatus({status:"loading"})),t.prev=1,t.next=4,z(e);case 4:return a=t.sent,n=a.data.items,r.dispatch(W.setAppStatus({status:"succeeded"})),t.abrupt("return",{tasks:n,todolistId:e});case 10:if(t.prev=10,t.t0=t.catch(1),!(t.t0 instanceof T.AxiosError)){t.next=14;break}return t.abrupt("return",U(t.t0,r));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}()),Ot=Object(f.c)("task/removeTaskTC",function(){var t=Object(x.a)(h.a.mark((function t(e,r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(W.setAppStatus({status:"loading"})),t.prev=1,t.next=4,M(e.todolistId,e.taskId);case 4:return t.sent,t.abrupt("return",{taskId:e.taskId,todolistId:e.todolistId});case 8:if(t.prev=8,t.t0=t.catch(1),!(t.t0 instanceof T.AxiosError)){t.next=12;break}return t.abrupt("return",U(t.t0,r));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()),mt=Object(f.c)("task/addTaskTC",function(){var t=Object(x.a)(h.a.mark((function t(e,r){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(W.setAppStatus({status:"loading"})),t.prev=1,t.next=4,D(e.todolistId,e.title);case 4:if((a=t.sent).data.resultCode!==dt.success){t.next=10;break}return r.dispatch(W.setAppStatus({status:"succeeded"})),t.abrupt("return",a.data.data.item);case 10:return K(a.data,r,!1),t.abrupt("return",r.rejectWithValue({errors:a.data.messages,fieldsErrors:a.data.fieldsErrors}));case 12:t.next=18;break;case 14:if(t.prev=14,t.t0=t.catch(1),!(t.t0 instanceof T.AxiosError)){t.next=18;break}return t.abrupt("return",U(t.t0,r,!1));case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,r){return t.apply(this,arguments)}}()),vt=Object(f.c)("task/updateTaskTC",function(){var t=Object(x.a)(h.a.mark((function t(e,r){var a,n,s,i,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.getState(),n=a.tasks[e.todolistId],s=n.find((function(t){return t.id===e.taskId}))){t.next=5;break}return t.abrupt("return",r.rejectWithValue("task not found in the state"));case 5:return i=Object(b.a)({deadline:s.deadline,description:s.description,priority:s.priority,startDate:s.startDate,title:s.title,status:s.status},e.domainModel),r.dispatch(W.setAppStatus({status:"loading"})),t.next=9,P(e.todolistId,e.taskId,i);case 9:if(o=t.sent,t.prev=10,o.data.resultCode!==dt.success){t.next=16;break}return r.dispatch(W.setAppStatus({status:"succeeded"})),t.abrupt("return",e);case 16:return t.abrupt("return",K(o.data,r));case 17:t.next=23;break;case 19:if(t.prev=19,t.t0=t.catch(10),!(t.t0 instanceof T.AxiosError)){t.next=23;break}return t.abrupt("return",U(t.t0,r));case 23:case"end":return t.stop()}}),t,null,[[10,19]])})));return function(e,r){return t.apply(this,arguments)}}()),kt={fetchTasks:xt,removeTask:Ot,addTask:mt,updateTask:vt},gt=Object(f.d)({name:"task",initialState:{},reducers:{},extraReducers:function(t){t.addCase(Q.addTodolist.fulfilled,(function(t,e){t[e.payload.todolist.id]=[]})).addCase(Q.removeTodolist.fulfilled,(function(t,e){delete t[e.payload.todolistId]})).addCase(Q.fetchTodolists.fulfilled,(function(t,e){e.payload.todolists.forEach((function(e){t[e.id]=[]}))})).addCase(xt.fulfilled,(function(t,e){t[e.payload.todolistId]=e.payload.tasks})).addCase(Ot.fulfilled,(function(t,e){var r=t[e.payload.todolistId],a=r.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&r.splice(a,1)})).addCase(mt.fulfilled,(function(t,e){t[e.payload.todoListId].unshift(e.payload)})).addCase(vt.fulfilled,(function(t,e){var r=t[e.payload.todolistId],a=r.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&(r[a]=Object(b.a)(Object(b.a)({},r[a]),e.payload.domainModel))}))}}),yt=r(13),It=r(236),Ct=r(225),At=o.a.memo((function(t){var e=Object(i.useState)(""),r=Object(yt.a)(e,2),a=r[0],n=r[1],s=Object(i.useState)(null),o=Object(yt.a)(s,2),c=o[0],d=o[1],u=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==a.trim()?t.addItem(a,{setError:d,setTitle:n}):d("Title is required");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(lt.jsxs)("div",{children:[Object(lt.jsx)(I.a,{value:a,label:"Title",variant:"outlined",size:"small",onChange:function(t){n(t.currentTarget.value)},onKeyPress:function(t){null!==c&&d(null),"Enter"===t.key&&u()},error:!!c,helperText:c,disabled:t.disabled}),Object(lt.jsx)(It.a,{size:"small",color:"primary",onClick:u,disabled:t.disabled,children:Object(lt.jsx)(Ct.a,{})})]})})),Tt=o.a.memo((function(t){var e=Object(i.useState)(!1),r=Object(yt.a)(e,2),a=r[0],n=r[1],s=Object(i.useState)(t.title),o=Object(yt.a)(s,2),c=o[0],d=o[1],u=function(){n(!0),d(t.title)},l=function(){c&&t.changeTitle(c),n(!u)},p=Object(i.useCallback)((function(t){d(t.currentTarget.value)}),[]);return a?Object(lt.jsx)(I.a,{autoFocus:!0,value:c,onBlur:l,onChange:p,onKeyPress:function(t){"Enter"===t.key&&l()}}):Object(lt.jsx)("span",{onDoubleClick:u,className:t.className,children:t.title})})),wt=r(226),St=r(113),Et=r.n(St);!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(jt||(jt={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(ht||(ht={}));var Lt=o.a.memo((function(t){var e=ct(Pt),r=e.updateTask,a=e.removeTask,n=Object(i.useCallback)((function(){a({taskId:t.task.id,todolistId:t.todolistId})}),[t.task.id,t.todolistId]),s=Object(i.useCallback)((function(e){var a=e.currentTarget.checked;r({taskId:t.task.id,todolistId:t.todolistId,domainModel:{status:a?jt.Completed:jt.New}})}),[t.task.id,t.todolistId]),o=Object(i.useCallback)((function(e){r({taskId:t.task.id,todolistId:t.todolistId,domainModel:{title:e}})}),[t.task.id,t.todolistId]);return Object(lt.jsxs)("li",{className:t.task.status===jt.Completed?"".concat(Et.a.isDone):"",children:[Object(lt.jsx)(m.a,{checked:t.task.status===jt.Completed,color:"primary",onChange:s}),Object(lt.jsx)(Tt,{changeTitle:o,className:t.task.status===jt.Completed?"is-done":"",title:t.task.title}),Object(lt.jsx)(It.a,{onClick:n,color:"primary",size:"small",children:Object(lt.jsx)(wt.a,{})})]},t.task.id)})),_t=o.a.memo((function(t){var e=ct(Mt),r=e.changeTodolistFilter,a=e.removeTodolist,n=e.changeTodolistTitle,s=ot(),o=Object(i.useCallback)((function(e){n({title:e,todolistId:t.todolist.id})}),[t.todolist.id]),c=Object(i.useCallback)((function(e){return r({key:e,todolistId:t.todolist.id})}),[t.todolist.id]),d=Object(i.useCallback)(function(){var e=Object(x.a)(h.a.mark((function e(r,a){var n,i,o,c,d,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pt.addTask({title:r,todolistId:t.todolist.id}),e.next=3,s(n);case 3:i=e.sent,Pt.addTask.rejected.match(i)?(null===(o=i.payload)||void 0===o||null===(c=o.errors)||void 0===c?void 0:c.length)?(u=null===(d=i.payload)||void 0===d?void 0:d.errors[0],a.setError(u)):a.setError("Some error occured"):a.setTitle("");case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[t.todolist.id]),u=t.tasks;"Active"===t.todolist.filter&&(u=u.filter((function(t){return t.status===jt.New}))),"Completed"===t.todolist.filter&&(u=u.filter((function(t){return t.status===jt.Completed})));var l=function(e,r,a){return Object(lt.jsx)(C.a,{size:"small",color:r,onClick:function(){return c(e)},variant:t.todolist.filter===e?"outlined":"text",children:a})};return Object(lt.jsxs)("div",{children:[Object(lt.jsxs)("h3",{children:[Object(lt.jsx)(Tt,{title:t.todolist.title,changeTitle:o}),Object(lt.jsx)(It.a,{onClick:function(){return a({todolistId:t.todolist.id})},size:"small",color:"primary",disabled:"loading"===t.todolist.entityStatus,children:Object(lt.jsx)(wt.a,{})})]}),Object(lt.jsx)(At,{addItem:d,disabled:"loading"===t.todolist.entityStatus}),Object(lt.jsx)("ul",{style:{listStyleType:"none",paddingLeft:"0"},children:u.map((function(e){return Object(lt.jsx)(Lt,{task:e,todolistId:t.todolist.id},e.id)}))}),Object(lt.jsxs)("div",{children:[l("All","primary","All"),l("Active","primary","Active"),l("Completed","primary","Completed")]})]})})),zt=r(244),Dt=function(t){var e=Object(u.c)(it),r=ot(),a=ct(Mt).fetchTodolists,n=Object(u.c)((function(t){return t.todolists})),s=Object(u.c)((function(t){return t.tasks})),o=Object(i.useCallback)(function(){var t=Object(x.a)(h.a.mark((function t(e,a){var n,s,i,o,c,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Mt.addTodolist(e),t.next=3,r(n);case 3:s=t.sent,Mt.addTodolist.rejected.match(s)?(null===(i=s.payload)||void 0===i||null===(o=i.errors)||void 0===o?void 0:o.length)?(d=null===(c=s.payload)||void 0===c?void 0:c.errors[0],a.setError(d)):a.setError("Some error occured"):a.setTitle("");case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[]);return Object(i.useEffect)((function(){e&&(n.length||a())}),[]),e?Object(lt.jsxs)(lt.Fragment,{children:[Object(lt.jsx)(O.a,{container:!0,style:{padding:"20px"},children:Object(lt.jsx)(At,{addItem:o})}),Object(lt.jsx)(O.a,{container:!0,spacing:5,children:n.map((function(t){return Object(lt.jsx)(O.a,{item:!0,children:Object(lt.jsx)(zt.a,{style:{padding:"10px"},elevation:5,children:Object(lt.jsx)(_t,{todolist:t,tasks:s[t.id]})})},t.id)}))})]}):Object(lt.jsx)(st.a,{to:"/login"})},Mt=Object(b.a)(Object(b.a)({},Q),X.actions),Pt=Object(b.a)({},kt),Nt=X.reducer,Ft=gt.reducer,Rt=function(t){return t.app.status},Vt=function(t){return t.app.isInitialized},Wt=Object(f.c)("application/initializeApp",function(){var t=Object(x.a)(h.a.mark((function t(e,r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F();case 2:t.sent.data.resultCode===s.success&&r.dispatch(ft.setIsLoggedInAC({isLoggedIn:!0}));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),Kt={initializeApp:Wt},Ut=Object(f.d)({name:"application",initialState:{status:"idle",error:null,isInitialized:!1},reducers:{},extraReducers:function(t){t.addCase(W.setAppStatus,(function(t,e){t.status=e.payload.status})).addCase(W.setAppError,(function(t,e){t.error=e.payload.error})).addCase(Wt.fulfilled,(function(t){t.isInitialized=!0}))}}),Ht=Ut.reducer,Zt=Ut.actions,qt=Object(b.a)(Object(b.a)({},Zt),Kt),Bt=Object(l.b)({tasks:Ft,todolists:Nt,app:Ht,auth:bt}),Jt=Object(f.a)({reducer:Bt,middleware:function(t){return t().prepend(p.a)}}),Yt=r(61),Qt=r(114),Xt=r.n(Qt),$t=r(115),Gt=r.n($t),te=r(240),ee=r(238),re=r(239),ae=r(234),ne=r(241),se=r(237),ie=r(231),oe=r(229),ce=o.a.forwardRef((function(t,e){return Object(lt.jsx)(oe.a,Object(b.a)({elevation:6,ref:e,variant:"filled"},t))}));function de(){var t=ct(W).setAppError,e=ut((function(t){return t.app.error})),r=function(e,r){"clickaway"!==r&&t({error:null})},a=null!==e;return Object(lt.jsx)(ie.a,{open:a,autoHideDuration:6e3,onClose:r,children:Object(lt.jsxs)(ce,{onClose:r,severity:"error",sx:{width:"100%"},children:[e," \ud83d\ude20"]})})}var ue=function(){var t=ut(n.selectStatus),e=ut(n.selectIsInitialized),r=ut(a.selectIsLoggedIn),s=ct(ft).logout,o=ct(qt).initializeApp;return Object(i.useEffect)((function(){o()}),[]),e?Object(lt.jsxs)("div",{className:Xt.a.App,children:[Object(lt.jsx)(ee.a,{position:"static",children:Object(lt.jsxs)(re.a,{children:[Object(lt.jsx)(It.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(lt.jsx)(Gt.a,{})}),Object(lt.jsx)(ae.a,{variant:"h6",children:"News"}),r&&Object(lt.jsx)(C.a,{color:"inherit",onClick:function(){return s()},children:"Logout"})]})}),"loading"===t&&Object(lt.jsx)(te.a,{color:"secondary",sx:{width:"100%"}}),Object(lt.jsx)(ne.a,{fixed:!0,children:Object(lt.jsxs)(st.d,{children:[Object(lt.jsx)(st.b,{path:"/",element:Object(lt.jsx)(Dt,{})}),Object(lt.jsx)(st.b,{path:"login",element:Object(lt.jsx)(pt,{})}),Object(lt.jsx)(st.b,{path:"/404",element:Object(lt.jsx)("h1",{children:"404: Page not found"})}),Object(lt.jsx)(st.b,{path:"*",element:Object(lt.jsx)(st.a,{to:"/404"})})]})}),Object(lt.jsx)(de,{})]}):Object(lt.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(lt.jsx)(se.a,{})})};d.a.render(Object(lt.jsx)(u.a,{store:Jt,children:Object(lt.jsxs)(Yt.a,{children:[Object(lt.jsx)(ue,{}),","]})}),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.52dd86c1.chunk.js.map